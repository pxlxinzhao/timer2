<ion-header>
  <ion-navbar>
    <ion-title>
      Categories
    </ion-title>
  </ion-navbar>
</ion-header>


<ion-content>



  <ion-list>

    <ion-item-sliding  *ngFor="let c of categories">

      <ion-item [hidden]="c === 'Uncategorized'">
        <span [hidden]="selectedCategory === c" (click)="selectCategory(c)">{{c}}</span>
        <input type="text"
               [hidden]="selectedCategory !== c"
               [placeholder]="c"
               [(ngModel)]="categoryNames[c]"
               (focusout) ="changeCategoryName()"
               (keyup.enter)="changeCategoryName()"
          />
      </ion-item>

      <ion-item-options>
        <button ion-button color="danger" (click)="deleteCategory(c)"> Delete</button>
      </ion-item-options>
    </ion-item-sliding>

  </ion-list>

  <ion-fab right bottom>
    <button ion-fab mini (click)="switchToAddingState()"><ion-icon name="add"></ion-icon></button>

  </ion-fab>

</ion-content>


<ion-footer>
  <ion-item [hidden]="!isAdding">
    <ion-label color="primary">New category: </ion-label>
    <ion-input
      [(ngModel)]="newCategory"
      (focusout) ="addCategory()"
      (keyup.enter)="addCategory()"
      ></ion-input>
  </ion-item>
</ion-footer>
